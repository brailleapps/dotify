<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<title>DTBook to OBFL</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	</head>
	<body>
<pre>
	DTBook to OBFL

	Description
	Provides a base stylesheet for DTBook. The stylesheet must be extended. 
	The minimum requirement is to implement a template with the name 
	insertLayoutMaster. This template should add layout definition elements,
	see http://code.google.com/p/obfl/. The extending stylesheet can also benefit from the 
	processing modes to refine layout. See below.
	
	Parameters
		None

	Format (input -> output)
		DTBook -> OBFL
    
	Author: Joel HÃ¥kansson
</pre>

<h2>Processing modes</h2>
<h3>Sequence modes</h3>
<p>Use "sequence-mode" to override default sequence element processing and "apply-sequence-attributes" to override default sequence attributes</p>

<h3>Block modes</h3>
<p>Use "block-mode" to override default block element processing and "apply-block-attributes" to override default element attributes</p>

<h3>Inline modes</h3>
<p>Use "inline-mode" to override default inline processing</p>

<h2>Element groups</h2>
<p>This stylesheet categorizes DTBook elements into five groups: sequence, block, inline, special and no-op. The first three (sequence, block and
inline) can easily be customized using the processing modes.</p>

<h3>sequence</h3> 
<p>bodymatter, frontmatter, rearmatter</p>

<h3>block</h3>
<dl>
	<dt>no text</dt>
		<dd>level, level1, level2, level3, level4, level5, level6</dd>
	<dt>can be surrounded by text, does not contain text</dt>
		<dd>list, blockquote, linegroup, poem, div, annotation, dl, imggroup, note</dd>
	<dt>can contain text, but cannot be surrounded by text</dt>
		<dd>bridgehead, caption, covertitle, docauthor, doctitle, li, h1, h2, h3, h4, h5, h6</dd>
	<dt>can be surrounded by text and contain text</dt>
		<dd>author, address, hd, line, p, sidebar, byline, dateline, epigraph, prodnote</dd>
</dl>
<h3>inline/block</h3>
<p>The following elemnts may be treated as inline or block depending on context:</p>
<p>a, cite, kbd, samp</p>
<p>Treat as block element if parent is level1, level2, level3, level4, level5, level6, level, div or annotation. Treat as inline otherwise.</p>

<h3>inline</h3>
<p>code, bdo, em, strong, span, sub, sup, abbr, acronym, 
dfn, q, noteref, annoref, sent, w, linenum, lic, dd, dt</p>

<h3>special</h3>
<p>br, pagenum</p>

<h3>no-op</h3>
<p>book, dtbook, head, meta, link, img</p>

<h2>Unhandled elements</h2>
<p>table, col, colgroup, tbody, td, tfoot, th, thead, title, tr</p>
<h2>Summary</h2>
		<table border="1px">
			<tr>
				<th>Sequence</th>
				<th>Block (type 1)</th>
				<th>Block (type 2)</th>
				<th>Block (type 3)</th>
				<th>Block (type 4)</th>
				<th>Block or Inline</th>
				<th>Inline</th>
				<th>Special</th>
				<th>No-op</th>
				<th>Not supported</th>
			</tr>
			<tr>
				<td>bodymatter</td>
				<td>level</td>
				<td>annotation</td>
				<td>bridgehead</td>
				<td>address</td>
				<td>a</td>
				<td>abbr</td>
				<td>br</td>
				<td>book</td>
				<td>col</td>
			</tr>
			<tr>
				<td>frontmatter</td>
				<td>level1</td>
				<td>blockquote</td>
				<td>caption</td>
				<td>author</td>
				<td>cite</td>
				<td>acronym</td>
				<td>pagenum</td>
				<td>dtbook</td>
				<td>colgroup</td>
			</tr>
			<tr>
				<td>rearmatter</td>
				<td>level2</td>
				<td>div</td>
				<td>covertitle</td>
				<td>byline</td>
				<td>kbd</td>
				<td>annoref</td>
				<td/>
				<td>head</td>
				<td></td>
			</tr>
			<tr>
				<td/>
				<td>level3</td>
				<td>dl</td>
				<td>docauthor</td>
				<td>dateline</td>
				<td>samp</td>
				<td>bdo</td>
				<td/>
				<td>img</td>
				<td>table</td>
			</tr>
			<tr>
				<td/>
				<td>level4</td>
				<td>imggroup</td>
				<td>doctitle</td>
				<td>epigraph</td>
				<td/>
				<td>code</td>
				<td/>
				<td>link</td>
				<td>tbody</td>
			</tr>
			<tr>
				<td/>
				<td>level5</td>
				<td>linegroup</td>
				<td>h1</td>
				<td>hd</td>
				<td/>
				<td>dd</td>
				<td/>
				<td>meta</td>
				<td>td</td>
			</tr>
			<tr>
				<td/>
				<td>level6</td>
				<td>list</td>
				<td>h2</td>
				<td>line</td>
				<td/>
				<td>dfn</td>
				<td/>
				<td/>
				<td>tfoot</td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td>poem</td>
				<td>h3</td>
				<td>p</td>
				<td/>
				<td>dt</td>
				<td/>
				<td/>
				<td>th</td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td>note</td>
				<td>h4</td>
				<td>prodnote</td>
				<td/>
				<td>em</td>
				<td/>
				<td/>
				<td>thead</td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td/>
				<td>h5</td>
				<td>sidebar</td>
				<td/>
				<td>lic</td>
				<td/>
				<td/>
				<td>title</td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td/>
				<td>h6</td>
				<td/>
				<td/>
				<td>linenum</td>
				<td/>
				<td/>
				<td>tr</td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td/>
				<td>li</td>
				<td/>
				<td/>
				<td>noteref</td>
				<td/>
				<td/>
				<td></td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td>q</td>
				<td/>
				<td/>
				<td></td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td>sent</td>
				<td/>
				<td/>
				<td></td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td>span</td>
				<td/>
				<td/>
				<td></td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td>strong</td>
				<td/>
				<td/>
				<td></td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td>sub</td>
				<td/>
				<td/>
				<td></td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td>sup</td>
				<td/>
				<td/>
				<td></td>
			</tr>
			<tr>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td/>
				<td>w</td>
				<td/>
				<td/>
				<td></td>
			</tr>
		</table>	
	</body>
</html>
